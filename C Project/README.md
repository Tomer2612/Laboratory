# פרויקט אסמבלר — מעבדה במערכות תוכנה

---

## תיאור כללי

הפרויקט מממש אסמבלר בשפת C לפי ההנחיות בקורס:
- תומך בקבצי מקור `.as` בשפת אסמבלי.
- כולל שלב קדם-אסמבלר לפרישת מאקרואים (`mcro` / `mcroend`).
- מממש שני מעברים:
  - מעבר ראשון: בונה טבלת סמלים, סופר IC/DC.
  - מעבר שני: מקודד הוראות, מייצר קבצי פלט.

---

## מבנה הפרויקט

- **`main.c`** — נקודת הכניסה, קורא קבצים ומפעיל את כל השלבים.
- **`preprocessor.c/h`** — קדם-אסמבלר: פרישת מאקרואים, טיפול בשמות כפולים, בדיקת שורה ארוכה.
- **`assembler.c/h`** — שני מעברים: טבלת סמלים, קידוד אופקודים, שדות מיעון (כולל מטריצה).
- **`symbol_table.c/h`** — ניהול טבלת סמלים.
- **`utils.c/h`** — פונקציות עזר: הדפסת שגיאות עם מספר שורה.
- **`Makefile`** — קומפילציה עם `-Wall -ansi -pedantic`.

---

## פונקציונליות עיקרית

- פרישת מאקרואים מלאה עם שמירה והחלפה.
- Immediate, Direct, Register Direct, **Matrix Addressing** עם הרחבת מילים.
- קידוד מלא: opcode + source/dest addressing + A/R/E.
- ENTRY ו־EXTERN עם יצירת `.ent` ו־`.ext`.
- טיפול בשגיאות: שם מאקרו כפול, שם תווית ארוך מדי, שורה ארוכה מדי — עם מספר שורה.
- פלטים:  
  - `.am` — אחרי פרישת מאקרואים.  
  - `.ob` — קוד בינארי בבסיס 4.  
  - `.ent` / `.ext` לפי הצורך.

---

## קומפילציה והרצה

```bash
make           # בניית כל המערכת
./assembler [path/to/file] > output.txt   # הפעלת האסמבלר על קובץ מקור
make clean     # ניקוי קבצים זמניים

